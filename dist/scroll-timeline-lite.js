var __defProp=Object.defineProperty,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField=(e,t,n)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,n),n);!function(){"use strict";class e{}class t extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class n extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class i extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class r extends e{constructor(e,t="unrestricted"){super(),__publicField(this,"type"),__publicField(this,"value"),this.value=e,this.type=t}}class o extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class a extends e{}class s extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class l extends e{}class u extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class c extends e{constructor(e,t="integer"){super(),__publicField(this,"value"),__publicField(this,"type"),this.value=e,this.type=t}}class f extends e{constructor(e){super(),__publicField(this,"value"),this.value=e}}class m extends e{constructor(e,t,n){super(),__publicField(this,"value"),__publicField(this,"type"),__publicField(this,"unit"),this.value=e,this.type=t,this.unit=n}}class p extends e{}class d extends e{}class h extends e{}class S extends e{}class g extends e{}class v extends e{}class y extends e{}class w extends e{}class T extends e{}class C extends e{}class b extends e{}class x extends e{}class k{constructor(e){__publicField(this,"input"),__publicField(this,"index",0),this.input=e}consume(){const e=this.input.codePointAt(this.index);return void 0!==e&&(this.index+=String.fromCodePoint(e).length),e}reconsume(e){void 0!==e&&(this.index-=String.fromCodePoint(e).length)}peek(){const e=[];let t=this.index;for(let n=0;n<3&&t<this.input.length;n++){const n=this.input.codePointAt(t);e.push(n),t+=String.fromCodePoint(n).length}return e}}function P(e){return 10===e}function M(e){return P(e)||8192===e||32===e}function E(e){return e>=48&&e<=57}function R(e){return E(e)||e>=65&&e<=70||e>=97&&e<=102}function V(e){return function(e){return function(e){return e>=65&&e<=90}(e)||function(e){return e>=97&&e<=122}(e)}(e)||function(e){return e>=128}(e)||95===e}function U(e){return V(e)||E(e)||45===e}function _(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e}function A(e,t){return 92===e&&!P(t)}function N(e,t,n){return 45===e?V(t)||45===t||A(t,n):!!V(e)||92===e&&A(e,t)}function I(e,t,n){return 43===e||45===e?E(t)||46===t&&E(n):E(46===e?t:e)}function H(e){const t=e.consume();if(R(t)){let n=[t];for(;R(...e.peek())&&n.length<5;)n.push(e.consume());M(...e.peek())&&e.consume();const i=parseInt(String.fromCodePoint(...n),16);return 0===i||i>1114111?65533:i}return void 0===t?65533:t}function F(e,t){const n=new o("");for(;;){const i=e.consume();if(i===t)return n;if(void 0===i)return n;if(10===i)return e.reconsume(i),new a;if(92===i){const t=e.peek()[0];void 0===t||(P(t)?e.consume():n.value+=String.fromCodePoint(H(e)))}else n.value+=String.fromCodePoint(i)}}function j(e){let t="";for(;;){const n=e.consume();if(U(n))t+=String.fromCodePoint(n);else{if(!A(...e.peek()))return e.reconsume(n),t;t+=String.fromCodePoint(H(e))}}}function z(e){let t=function(e){let t="integer",n="";for([43,45].includes(e.peek()[0])&&(n+=String.fromCodePoint(e.consume()));E(...e.peek());)n+=String.fromCodePoint(e.consume());if(46===e.peek()[0]&&E(e.peek()[1]))for(n+=String.fromCodePoint(e.consume(),e.consume()),t="number";E(...e.peek());)n+=String.fromCodePoint(e.consume());return[69,101].includes(e.peek()[0])&&([45,43].includes(e.peek()[1])&&E(e.peek()[2])?(n+=String.fromCodePoint(e.consume(),e.consume(),e.consume()),t="number"):E(e.peek()[1])&&(n+=String.fromCodePoint(e.consume(),e.consume()),t="number")),{value:parseFloat(n),type:t}}(e);return N(...e.peek())?new m(t.value,t.type,j(e)):37===e.peek()[0]?(e.consume(),new f(t.value)):new c(t.value,t.type)}function L(e){for(;;){const t=e.consume();if(41===t||void 0===t)return;A(...e.peek())&&H(e)}}function O(e){const i=j(e);if(i.match(/url/i)&&40===e.peek()[0]){for(e.consume();M(e.peek()[0])&&M(e.peek()[1]);)e.consume();return[34,39].includes(e.peek()[0])||M(e.peek()[0])&&[34,39].includes(e.peek()[1])?new n(i):function(e){const t=new s("");for(;M(...e.peek());)e.consume();for(;;){const n=e.consume();if(41===n)return t;if(void 0===n)return t;if(M(n)){for(;M(...e.peek());)e.consume();return 41===e.peek()[0]||void 0===e.peek()[0]?(e.consume(),t):(L(e),new l)}if([34,39,40].includes(n)||_(n))return L(e),new l;if(92===n){if(!A(...e.peek()))return L(e),new l;t.value+=H(e)}else t.value+=String.fromCodePoint(n)}}(e)}return 40===e.peek()[0]?(e.consume(),new n(i)):new t(i)}function D(e){const t=e.consume(),n=e.peek();if(M(t)){for(;M(...e.peek());)e.consume();return new p}if(34===t)return F(e,t);if(35===t){if(U(n[0])||A(...n)){const t=new r;return N(...n)&&(t.type="id"),t.value=j(e),t}return new u(String.fromCodePoint(t))}return 39===t?F(e,t):40===t?new T:41===t?new C:43===t?I(...n)?(e.reconsume(t),z(e)):new u(String.fromCodePoint(t)):44===t?new v:45===t?I(...e.peek())?(e.reconsume(t),z(e)):45===e.peek()[0]&&62===e.peek()[1]?(e.consume(),e.consume(),new h):N(...e.peek())?(e.reconsume(t),O(e)):new u(String.fromCodePoint(t)):46===t?I(...e.peek())?(e.reconsume(t),z(e)):new u(String.fromCodePoint(t)):58===t?new S:59===t?new g:60===t?33===n[0]&&45===n[1]&&45===n[2]?(e.consume(),e.consume(),e.consume(),new d):new u(String.fromCodePoint(t)):64===t?N(...n)?new i(j(e)):new u(String.fromCodePoint(t)):91===t?new y:92===t?A(...n)?(e.reconsume(t),O(e)):new u(String.fromCodePoint(t)):93===t?new w:123===t?new b:125===t?new x:E(t)?(e.reconsume(t),z(e)):V(t)?(e.reconsume(t),O(e)):void 0===t?void 0:new u(String.fromCodePoint(t))}const W=new Set(["px","deg","s","hz","dppx","number","fr"]);function q(e){return W.has(e.toLowerCase())}function $(e,t){if(["x","y"].includes(e))return e;if(!t)throw new Error("To determine the normalized axis the computedStyle of the source is required.");const n="horizontal-tb"==t.writingMode;if("block"===e)e=n?"y":"x";else{if("inline"!==e)throw new TypeError(`Invalid axis “${e}”`);e=n?"x":"y"}return e}function B(e){const t=[];let n=0;function i(){let t=0;const i=n;for(;n<e.length;){const i=e.slice(n,n+1);if(/\s/.test(i)&&0===t)break;if("("===i)t+=1;else if(")"===i&&(t-=1,0===t)){n++;break}n++}return e.slice(i,n)}function r(){for(;/\s/.test(e.slice(n,n+1));)n++}for(;n<e.length;){const o=e.slice(n,n+1);/\s/.test(o)?r():t.push(i())}return t}function G(e,t){return e.reduce(((e,n)=>(e.has(n[t])?e.get(n[t]).push(n):e.set(n[t],[n]),e)),new Map)}function K(e,t){const n=[],i=[];for(const r of e)t(r)?n.push(r):i.push(r);return[n,i]}function Q(e,t={}){function n(e){return Array.from(e).map((e=>Q(e,t)))}if(e instanceof CSSUnitValue){if("percent"===e.unit&&t.percentageReference){const n=e.value/100*t.percentageReference.value,i=t.percentageReference.unit;return new CSSUnitValue(n,i)}const n=e.toSum();if(n&&1===n.values.length&&(e=n.values[0]),e instanceof CSSUnitValue&&"em"===e.unit&&t.fontSize&&(e=new CSSUnitValue(e.value*t.fontSize.value,t.fontSize.unit)),e instanceof CSSKeywordValue){if("e"===e.value)return new CSSUnitValue(Math.E,"number");if("pi"===e.value)return new CSSUnitValue(Math.PI,"number")}return e}if(!e.operator)return e;switch(e.operator){case"sum":e=new CSSMathSum(...n(e.values));break;case"product":e=new CSSMathProduct(...n(e.values));break;case"negate":e=new CSSMathNegate(Q(e.value,t));break;case"clamp":e=new CSSMathClamp(Q(e.lower,t),Q(e.value,t),Q(e.upper,t));break;case"invert":e=new CSSMathInvert(Q(e.value,t));break;case"min":e=new CSSMathMin(...n(e.values));break;case"max":e=new CSSMathMax(...n(e.values))}if(e instanceof CSSMathMin||e instanceof CSSMathMax){const t=Array.from(e.values);if(t.every((e=>e instanceof CSSUnitValue&&"percent"!==e.unit&&q(e.unit)&&e.unit===t[0].unit))){const n=Math[e.operator].apply(Math,t.map((({value:e})=>e)));return new CSSUnitValue(n,t[0].unit)}}if(e instanceof CSSMathMin||e instanceof CSSMathMax){const t=Array.from(e.values),[n,i]=K(t,(e=>e instanceof CSSUnitValue&&"percent"!==e.unit)),r=Array.from(G(n,"unit").values());if(r.some((e=>e.length>0))){const t=r.map((t=>{const n=Math[e.operator].apply(Math,t.map((({value:e})=>e)));return new CSSUnitValue(n,t[0].unit)}));e=e instanceof CSSMathMin?new CSSMathMin(...t,...i):new CSSMathMax(...t,...i)}return 1===t.length?t[0]:e}if(e instanceof CSSMathNegate)return e.value instanceof CSSUnitValue?new CSSUnitValue(0-e.value.value,e.value.unit):e.value instanceof CSSMathNegate?e.value.value:e;if(e instanceof CSSMathInvert)return e.value instanceof CSSMathInvert?e.value.value:e;if(e instanceof CSSMathSum){let t=function(e){const t=e.filter((e=>e instanceof CSSUnitValue));return[...e.filter((e=>!(e instanceof CSSUnitValue))),...Array.from(G(t,"unit").entries()).map((([e,t])=>{const n=t.reduce(((e,{value:t})=>e+t),0);return new CSSUnitValue(n,e)}))]},n=[];for(const i of e.values)i instanceof CSSMathSum?n.push(...i.values):n.push(i);return n=t(n),1===n.length?n[0]:new CSSMathSum(...n)}if(e instanceof CSSMathProduct){let t=[];for(const r of e.values)r instanceof CSSMathProduct?t.push(...r.values):t.push(r);const[n,i]=K(t,(e=>e instanceof CSSUnitValue&&"number"===e.unit));if(n.length>1){const e=n.reduce(((e,{value:t})=>e*t),1);t=[new CSSUnitValue(e,"number"),...i]}if(2===t.length){let e,n;for(const i of t)i instanceof CSSUnitValue&&"number"===i.unit?e=i:i instanceof CSSMathSum&&[...i.values].every((e=>e instanceof CSSUnitValue))&&(n=i);if(e&&n)return new CSSMathSum(...[...n.values].map((t=>new CSSUnitValue(t.value*e.value,t.unit))))}if(t.every((e=>e instanceof CSSUnitValue&&q(e.unit)||e instanceof CSSMathInvert&&e.value instanceof CSSUnitValue&&q(e.value.unit)))){const e=new CSSMathProduct(...t).toSum();if(e&&1===e.values.length)return e.values[0]}return new CSSMathProduct(...t)}return e}const J=null,X=["percent","length","angle","time","frequency","resolution","flex"],Y={fontRelativeLengths:{units:new Set(["em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh"])},viewportRelativeLengths:{units:new Set(["vw","lvw","svw","dvw","vh","lvh","svh","dvh","vi","lvi","svi","dvi","vb","lvb","svb","dvb","vmin","lvmin","svmin","dvmin","vmax","lvmax","svmax","dvmax"])},absoluteLengths:{units:new Set(["cm","mm","q","in","pt","pc","px"]),compatible:!0,canonicalUnit:"px",ratios:{cm:96/2.54,mm:96/2.54/10,q:96/2.54/40,in:96,pc:16,pt:96/72,px:1}},angle:{units:new Set(["deg","grad","rad","turn"]),compatible:!0,canonicalUnit:"deg",ratios:{deg:1,grad:.9,rad:180/Math.PI,turn:360}},time:{units:new Set(["s","ms"]),compatible:!0,canonicalUnit:"s",ratios:{s:1,ms:.001}},frequency:{units:new Set(["hz","khz"]),compatible:!0,canonicalUnit:"hz",ratios:{hz:1,khz:1e3}},resolution:{units:new Set(["dpi","dpcm","dppx"]),compatible:!0,canonicalUnit:"dppx",ratios:{dpi:1/96,dpcm:2.54/96,dppx:1}}},Z=new Map;for(const Et of Object.values(Y))if(Et.compatible)for(const e of Et.units)Z.set(e,Et);function ee(e){return Z.get(e)}function te(e,t){const n={...e};for(const i of Object.keys(t))n[i]?n[i]+=t[i]:n[i]=t[i];return n}function ne(e){const t={};for(const n of X)e[n]&&(t[n]=e[n]);return e.percentHint&&(t.percentHint=e.percentHint),t}function ie(e){const t=e.toLowerCase();return"number"===e?{}:"percent"===e?{percent:1}:Y.absoluteLengths.units.has(t)||Y.fontRelativeLengths.units.has(t)||Y.viewportRelativeLengths.units.has(t)?{length:1}:Y.angle.units.has(t)?{angle:1}:Y.time.units.has(t)?{time:1}:Y.frequency.units.has(t)?{frequency:1}:Y.resolution.units.has(t)?{resolution:1}:"fr"===t?{flex:1}:J}function re(e){if(e instanceof CSSUnitValue){let{unit:t,value:n}=e;const i=ee(e.unit);return i&&t!==i.canonicalUnit&&(n*=i.ratios[t],t=i.canonicalUnit),"number"===t?[[n,{}]]:[[n,{[t]:1}]]}if(e instanceof CSSMathInvert){if(!(e.value instanceof CSSUnitValue))throw new Error("Not implemented");const t=re(e.value);if(t===J)return J;if(t.length>1)return J;const n=t[0],i={};for(const[e,r]of Object.entries(n[1]))i[e]=-1*r;return t[0]=[1/n[0],i],t}if(e instanceof CSSMathProduct){let t=[[1,{}]];for(const n of e.values){const e=re(n),i=[];if(e===J)return J;for(const n of t)for(const t of e)i.push([n[0]*t[0],te(n[1],t[1])]);t=i}return t}throw new Error("Not implemented")}function oe(e,t){if(ie(t)===J)throw new SyntaxError("The string did not match the expected pattern.");const n=re(e);if(!n)throw new TypeError;if(n.length>1)throw new TypeError("Sum has more than one item");const i=function(e,t){const n=e.unit,i=e.value,r=ee(n),o=ee(t);if(!o||r!==o)return J;return new CSSUnitValue(i*o.ratios[n]/o.ratios[t],t)}(ae(n[0]),t);if(i===J)throw new TypeError;return i}function ae(e){const[t,n]=e,i=Object.entries(n);if(i.length>1)return J;if(0===i.length)return new CSSUnitValue(t,"number");const r=i[0];return 1!==r[1]?J:new CSSUnitValue(t,r[0])}function se(e,...t){if(t&&t.length)throw new Error("Not implemented");const n=re(e).map((e=>ae(e)));if(n.some((e=>e===J)))throw new TypeError("Type error");return new CSSMathSum(...n)}function le(e,t){e[t]??(e[t]=0),e.percent&&(e[t]+=e.percent,e.percent=0),e.percentHint=t}function ue(e,t){const n={...e},i={...t};if(n.percentHint&&i.percentHint&&n.percentHint!==i.percentHint)return J;if(n.percentHint&&!i.percentHint&&le(i,n.percentHint),i.percentHint&&!n.percentHint&&le(n,i.percentHint),X.filter((e=>n[e]||i[e])).every((e=>n[e]===i[e])))return{...i,...n,percentHint:n.percentHint};const r=X.filter((e=>"percent"!==e)).some((e=>n[e]||i[e]));if((n.percent||i.percent)&&r)for(const o of X.filter((e=>"percent"!==e))){const e={...n},t={...i};if(le(e,o),le(t,o),X.filter((n=>e[n]||t[n])).every((n=>e[n]===t[n])))return{...t,...e,percentHint:o}}return J}function ce(e,t){if(e.percentHint&&t.percentHint&&e.percentHint!==t.percentHint)return J;const n={...e,percentHint:e.percentHint??t.percentHint};for(const i of X)t[i]&&(n[i]??(n[i]=0),n[i]+=t[i]);return n}class CSSFunction{constructor(e,t){__publicField(this,"name"),__publicField(this,"values"),this.name=e,this.values=t}}class CSSSimpleBlock{constructor(e,t){__publicField(this,"value"),__publicField(this,"associatedToken"),this.value=e,this.associatedToken=t}}function fe(e){if(Array.isArray(e))return e;if("string"==typeof e)return function(e){const t=new k(e),n=[];for(;;){const e=D(t);if(void 0===e)return n;n.push(e)}}(e);throw new TypeError("Invalid input type "+typeof e)}function me(e){const t=e.shift();return t instanceof b||t instanceof y||t instanceof T?function(e,t){let n;if(t instanceof b)n=x;else if(t instanceof T)n=C;else{if(!(t instanceof y))return;n=w}const i=new CSSSimpleBlock([],t);for(;;){const t=e.shift();if(t instanceof n)return i;if(void 0===t)return i;e.unshift(t),i.value.push(me(e))}}(e,t):t instanceof n?function(e,t){const n=new CSSFunction(e.value,[]);for(;;){const e=t.shift();if(e instanceof C)return n;if(void 0===e)return n;t.unshift(e),n.values.push(me(t))}}(t,e):t}function pe(e){if(e instanceof T||e instanceof C)return 6;if(e instanceof u){switch(e.value){case"*":case"/":return 4;case"+":case"-":return 2}}}function de(e){return e[e.length-1]}function he(e,t,n){const i=["+","-"].includes(e.value)?"ADDITION":"MULTIPLICATION",r=t.type===i?t.values:[t],o=n.type===i?n.values:[n];return"-"===e.value?o[0]={type:"NEGATE",value:o[0]}:"/"===e.value&&(o[0]={type:"INVERT",value:o[0]}),{type:i,values:[...r,...o]}}function Se(e){if("ADDITION"===e.type)return new CSSMathSum(...e.values.map((e=>Se(e))));if("MULTIPLICATION"===e.type)return new CSSMathProduct(...e.values.map((e=>Se(e))));if("NEGATE"===e.type)return new CSSMathNegate(Se(e.value));if("INVERT"===e.type)return new CSSMathInvert(Se(e.value));if(e instanceof CSSSimpleBlock)return ge(new CSSFunction("calc",e.value));if(e instanceof t){if("e"===e.value)return new CSSUnitValue(Math.E,"number");if("pi"===e.value)return new CSSUnitValue(Math.PI,"number");throw new SyntaxError("Invalid math expression")}return ve(e)}function ge(e){if("min"===e.name||"max"===e.name){const t=e.values.filter((e=>!(e instanceof p||e instanceof v))).map((e=>Q(ge(new CSSFunction("calc",e)))));return"min"===e.name?new CSSMathMin(...t):new CSSMathMax(...t)}if("calc"!==e.name)return null;const n=Se(function(e){const n=[],i=[];for(;e.length;){const r=e.shift();if(r instanceof c||r instanceof m||r instanceof f||r instanceof CSSFunction||r instanceof CSSSimpleBlock||r instanceof t)i.push(r);else if(r instanceof u&&["*","/","+","-"].includes(r.value)){for(;n.length&&!(de(n)instanceof T)&&pe(de(n))>pe(r);){const e=n.pop(),t=i.pop(),r=i.pop();i.push(he(e,r,t))}n.push(r)}else if(r instanceof T)n.push(r);else if(r instanceof C){if(!n.length)return null;for(;!(de(n)instanceof T);){const e=n.pop(),t=i.pop(),r=i.pop();i.push(he(e,r,t))}if(!(de(n)instanceof T))return null;n.pop()}else if(!(r instanceof p))return null}for(;n.length;){if(de(n)instanceof T)return null;const e=n.pop(),t=i.pop(),r=i.pop();i.push(he(e,r,t))}return i[0]}([...e.values]));let i;try{i=Q(n)}catch(r){(new CSSStyleSheet).insertRule("error",0)}return i instanceof CSSUnitValue?new CSSMathSum(i):i}function ve(e){return e instanceof CSSFunction&&["calc","min","max","clamp"].includes(e.name)?ge(e):e instanceof c&&0===e.value&&!e.unit?new CSSUnitValue(0,"px"):e instanceof c?new CSSUnitValue(e.value,"number"):e instanceof f?new CSSUnitValue(e.value,"percent"):e instanceof m?new CSSUnitValue(e.value,e.unit):void 0}function ye(e){const t=function(e){const t=fe(e);for(;t[0]instanceof p;)t.shift();if(void 0===t[0])return null;const n=me(t);for(;t[0]instanceof p;)t.shift();return void 0===t[0]?n:null}(e);if(null===t&&(new CSSStyleSheet).insertRule("error",0),t instanceof c||t instanceof f||t instanceof m||t instanceof CSSFunction||(new CSSStyleSheet).insertRule("error",0),t instanceof m){null===ie(t.unit)&&(new CSSStyleSheet).insertRule("error",0)}return ve(t)}!function(){let e=new WeakMap;function t(e){const t=[];for(let i=0;i<e.length;i++)t[i]="number"==typeof(n=e[i])?new CSSUnitValue(n,"number"):n;var n;return t}class CSSNumericValue2{static parse(e){return e instanceof CSSNumericValue2?e:Q(ye(e),{})}}class CSSMathValue extends CSSNumericValue2{constructor(n,i,r,o){super(),e.set(this,{values:t(n),operator:i,name:r||i,delimiter:o||", "})}get operator(){return e.get(this).operator}get values(){return e.get(this).values}toString(){const t=e.get(this);return`${t.name}(${t.values.join(t.delimiter)})`}}const n={CSSNumericValue:CSSNumericValue2,CSSMathValue:CSSMathValue,CSSUnitValue:class extends CSSNumericValue2{constructor(t,n){super();if(null===ie(n))throw new TypeError("Type error");e.set(this,{value:t,unit:n.toLowerCase()})}get value(){return e.get(this).value}set value(t){e.get(this).value=t}get unit(){return e.get(this).unit}to(e){return oe(this,e)}toSum(...e){return se(this,...e)}type(){return ie(e.get(this).unit)}toString(){const t=e.get(this);return`${t.value}${function(e){switch(e){case"percent":return"%";case"number":return"";default:return e.toLowerCase()}}(t.unit)}`}},CSSKeywordValue:class{constructor(e){this.value=e}toString(){return this.value.toString()}},CSSMathSum:class extends CSSMathValue{constructor(...e){super(e,"sum","calc"," + ");if(null===e.map((e=>e.type())).reduce(ue))throw new TypeError("Type error")}type(){return ne(e.get(this).values.map((e=>e.type())).reduce(ue))}},CSSMathProduct:class extends CSSMathValue{constructor(...e){super(e,"product","calc"," * ");if(null===e.map((e=>e.type())).reduce(ce))throw new TypeError("Type error")}toSum(...e){return se(this,...e)}type(){return e.get(this).values.map((e=>e.type())).reduce(ce)}},CSSMathNegate:class extends CSSMathValue{constructor(e){super([e],"negate","-")}get value(){return e.get(this).values[0]}type(){return this.value.type()}},CSSMathInvert:class extends CSSMathValue{constructor(e){super([1,e],"invert","calc"," / ")}get value(){return e.get(this).values[1]}type(){return ne(function(e){const t={};for(const n of X)t[n]=-1*e[n];return t}(e.get(this).values[1].type()))}},CSSMathMax:class extends CSSMathValue{constructor(e){super(e,"max")}},CSSMathMin:class extends CSSMathValue{constructor(e){super(e,"min")}}};if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach((e=>{if(!Reflect.defineProperty(CSS,e,{value:t=>new CSSUnitValue(t,e)}))throw Error(`Error installing CSS.${e}`)}));for(let[i,r]of Object.entries(n))if(!(i in window)&&!Reflect.defineProperty(window,i,{value:r}))throw Error(`Error installing CSSOM support for ${i}`)}();const we="block";let Te=new WeakMap,Ce=new WeakMap;const be=["entry","exit","cover","contain","entry-crossing","exit-crossing"];function xe(e){return e===document.scrollingElement?document:e}function ke(e){Ee(e);let t=Te.get(e).animations;if(0===t.length)return;let n=e.currentTime;for(let i=0;i<t.length;i++)t[i].tickAnimation(n)}function Pe(e,t){if(!e)return null;const n=Ce.get(e).sourceMeasurements,i=getComputedStyle(e);let r=n.scrollTop;return"x"===$(t,i)&&(r=Math.abs(n.scrollLeft)),r}function Me(e,t){const n=Q(e,t);if(n instanceof CSSUnitValue){if("px"===n.unit)return n.value;throw TypeError("Unhandled unit type "+n.unit)}throw TypeError("Unsupported value type: "+typeof e)}function Ee(e){if(!(e instanceof qe))return void function(e){const t=Te.get(e);if(!t.anonymousSource)return;const n=function(e,t){switch(e){case"root":return document.scrollingElement;case"nearest":return Oe(t);case"self":return t;default:throw new TypeError("Invalid ScrollTimeline Source Type.")}}(t.anonymousSource,t.anonymousTarget);Ae(e,n)}(e);const t=e.subject;if(!t)return void Ae(e,null);if("none"==getComputedStyle(t).display)return void Ae(e,null);Ae(e,Oe(t))}function Re(e){return["block","inline","x","y"].includes(e)}function Ve(e){const t=getComputedStyle(e);return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,writingMode:t.writingMode,direction:t.direction,scrollPaddingTop:t.scrollPaddingTop,scrollPaddingBottom:t.scrollPaddingBottom,scrollPaddingLeft:t.scrollPaddingLeft,scrollPaddingRight:t.scrollPaddingRight}}function Ue(e,t){if(!e||!t)return;let n=0,i=0,r=t;const o=e.offsetParent;for(;r&&r!=o;)i+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent;i-=e.offsetLeft+e.clientLeft,n-=e.offsetTop+e.clientTop;const a=getComputedStyle(t);return{top:n,left:i,offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight,fontSize:a.fontSize}}function _e(e){let t=Ce.get(e);t.sourceMeasurements=Ve(e);for(const n of t.timelineRefs){const t=n.deref();if(t instanceof qe){Te.get(t).subjectMeasurements=Ue(e,t.subject)}}t.updateScheduled||(setTimeout((()=>{for(const e of t.timelineRefs){const t=e.deref();t&&ke(t)}t.updateScheduled=!1})),t.updateScheduled=!0)}function Ae(e,t){const n=Te.get(e),i=n.source;if(i!=t){if(i){const t=Ce.get(i);if(t){t.timelineRefs.delete(e);const n=Array.from(t.timelineRefs).filter((e=>void 0===e.deref()));for(const e of n)t.timelineRefs.delete(e);0===t.timelineRefs.size&&(t.disconnect(),Ce.delete(i))}}if(n.source=t,t){let i=Ce.get(t);if(!i){i={timelineRefs:new Set,sourceMeasurements:Ve(t)},Ce.set(t,i);const e=new ResizeObserver((e=>{for(const t of e)_e(n.source)}));e.observe(t);for(const n of t.children)e.observe(n);const r=new MutationObserver((e=>{for(const t of e)_e(t.target)}));r.observe(t,{attributes:!0,attributeFilter:["style","class"]});const o=()=>{i.sourceMeasurements.scrollLeft=t.scrollLeft,i.sourceMeasurements.scrollTop=t.scrollTop;for(const e of i.timelineRefs){const t=e.deref();t&&ke(t)}};xe(t).addEventListener("scroll",o),i.disconnect=()=>{e.disconnect(),r.disconnect(),xe(t).removeEventListener("scroll",o)}}i.timelineRefs.add(new WeakRef(e))}}}function Ne(e,t){let n=Te.get(e).animations;for(let i=0;i<n.length;i++)n[i].animation==t&&n.splice(i,1)}function Ie(e,t,n){let i=Te.get(e).animations;for(let r=0;r<i.length;r++)if(i[r].animation==t)return;i.push({animation:t,tickAnimation:n}),queueMicrotask((()=>{ke(e)}))}class ScrollTimeline{constructor(e){Te.set(this,{source:null,axis:we,anonymousSource:e?e.anonymousSource:null,anonymousTarget:e?e.anonymousTarget:null,subject:null,inset:null,animations:[],subjectMeasurements:null});if(Ae(this,e&&void 0!==e.source?e.source:document.scrollingElement),e&&void 0!==e.axis&&e.axis!=we){if(!Re(e.axis))throw TypeError("Invalid axis");Te.get(this).axis=e.axis}ke(this)}set source(e){Ae(this,e),ke(this)}get source(){return Te.get(this).source}set axis(e){if(!Re(e))throw TypeError("Invalid axis");Te.get(this).axis=e,ke(this)}get axis(){return Te.get(this).axis}get duration(){return CSS.percent(100)}get phase(){const e=this.source;if(!e)return"inactive";let t=getComputedStyle(e);return"none"==t.display?"inactive":e==document.scrollingElement||"visible"!=t.overflow&&"clip"!=t.overflow?"active":"inactive"}get currentTime(){const e=null,t=this.source;if(!t||!t.isConnected)return e;if("inactive"==this.phase)return e;const n=getComputedStyle(t);if("inline"===n.display||"none"===n.display)return e;const i=this.axis,r=Pe(t,i),o=function(e,t){const n=Ce.get(e).sourceMeasurements,i="horizontal-tb"==getComputedStyle(e).writingMode;return"block"===t?t=i?"y":"x":"inline"===t&&(t=i?"x":"y"),"y"===t?n.scrollHeight-n.clientHeight:"x"===t?n.scrollWidth-n.clientWidth:void 0}(t,i);return o>0?CSS.percent(100*r/o):CSS.percent(100)}get __polyfill(){return!0}}function He(e,t){let n=e.parentElement;for(;null!=n;){if(t(n))return n;n=n.parentElement}}function Fe(e){switch(getComputedStyle(e).display){case"block":case"inline-block":case"list-item":case"table":case"table-caption":case"flow-root":case"flex":case"grid":return!0}return!1}function je(e){const t=getComputedStyle(e);return"none"!=t.transform||"none"!=t.perspective||("transform"==t.willChange||"perspective"==t.willChange||("none"!=t.filter||"filter"==t.willChange||"none"!=t.backdropFilter))}function ze(e){return"static"!=getComputedStyle(e).position||je(e)}function Le(e){switch(getComputedStyle(e).position){case"static":case"relative":case"sticky":return He(e,Fe);case"absolute":return He(e,ze);case"fixed":return He(e,je)}}function Oe(e){if(e&&e.isConnected){for(;e=Le(e);){switch(getComputedStyle(e)["overflow-x"]){case"auto":case"scroll":case"hidden":return e==document.body&&"visible"==getComputedStyle(document.scrollingElement).overflow?document.scrollingElement:e}}return document.scrollingElement}}function De(e,t){const n=Te.get(e),i=n.subjectMeasurements,r=Ce.get(n.source).sourceMeasurements;return"inactive"===e.phase?null:e instanceof qe?function(e,t,n,i,r){const o="rtl"==t.direction||"vertical-rl"==t.writingMode;let a,s,l={fontSize:n.fontSize};"x"===$(i,t)?(a=n.offsetWidth,s=n.left,l.scrollPadding=[t.scrollPaddingLeft,t.scrollPaddingRight],o&&(s+=t.scrollWidth-t.clientWidth,l.scrollPadding=[t.scrollPaddingRight,t.scrollPaddingLeft]),l.containerSize=t.clientWidth):(a=n.offsetHeight,s=n.top,l.scrollPadding=[t.scrollPaddingTop,t.scrollPaddingBottom],l.containerSize=t.clientHeight);const u=function(e,t){const n={start:0,end:0};if(!e)return n;const[i,r]=[e.start,e.end].map(((e,n)=>"auto"===e?"auto"===t.scrollPadding[n]?0:parseFloat(t.scrollPadding[n]):Me(e,{percentageReference:CSS.px(t.containerSize),fontSize:CSS.px(parseFloat(t.fontSize))})));return{start:i,end:r}}(r,l),c=s-l.containerSize+u.end,f=s+a-u.start,m=c+a,p=f-a,d=Math.min(m,p),h=Math.max(m,p);let S,g;const v=l.containerSize-u.start-u.end,y=a>v;switch(be.includes(e)?e:"cover"){case"cover":S=c,g=f;break;case"contain":S=d,g=h;break;case"entry":S=c,g=d;break;case"exit":S=h,g=f;break;case"entry-crossing":S=c,g=y?h:d;break;case"exit-crossing":S=y?d:h,g=f}return{start:S,end:g}}(t,r,i,n.axis,n.inset):null}function We(e,t){if(e instanceof qe){const{rangeName:n,offset:i}=t;return function(e,t,n,i){if(!e||!n)return 0;let r=getComputedStyle(i);const o={percentageReference:CSS.px(e.end-e.start),fontSize:CSS.px(parseFloat(r.fontSize))},a=Me(t,o)+e.start;return(a-n.start)/(n.end-n.start)}(De(e,n),i,De(e,"cover"),e.subject)}if(e instanceof ScrollTimeline){const{axis:n,source:i}=e,{sourceMeasurements:r}=Ce.get(i);let o;o="x"===$(n,r)?r.scrollWidth-r.clientWidth:r.scrollHeight-r.clientHeight;return Me(t.offset,{percentageReference:CSS.px(o)})/o}unsupportedTimeline(e)}let qe=class ViewTimeline extends ScrollTimeline{constructor(e){super(e);const t=Te.get(this);if(t.subject=e&&e.subject?e.subject:void 0,e&&e.inset&&(t.inset=function(e){if(!e)return{start:0,end:0};let t;if(t="string"==typeof e?B(e).map((t=>{if("auto"===t)return"auto";try{return CSSNumericValue.parse(t)}catch(n){throw TypeError(`Could not parse inset "${e}"`)}})):Array.isArray(e)?e:[e],0===t.length||t.length>2)throw TypeError("Invalid inset");for(const n of t){if("auto"===n)continue;const e=n.type();if(1!==e.length&&1!==e.percent)throw TypeError("Invalid inset")}return{start:t[0],end:t[1]??t[0]}}(e.inset)),t.subject){new ResizeObserver((()=>{_e(t.source)})).observe(t.subject);new MutationObserver((()=>{_e(t.source)})).observe(t.subject,{attributes:!0,attributeFilter:["class","style"]})}Ee(this),t.subjectMeasurements=Ue(t.source,t.subject),ke(this)}get source(){return Ee(this),Te.get(this).source}set source(e){throw new Error("Cannot set the source of a view timeline")}get subject(){return Te.get(this).subject}get axis(){return Te.get(this).axis}get currentTime(){const e=null,t=Pe(this.source,this.axis);if(t==e)return e;const n=De(this,"cover");if(!n)return e;const i=(t-n.start)/(n.end-n.start);return CSS.percent(100*i)}get startOffset(){return CSS.px(De(this,"cover").start)}get endOffset(){return CSS.px(De(this,"cover").end)}};const $e=document.getAnimations,Be=window.Element.prototype.getAnimations,Ge=window.Element.prototype.animate,Ke=window.Animation;class Qe{constructor(){this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(((e,t)=>{this.nativeResolve=e,this.nativeReject=t}))}resolve(e){this.state="resolved",this.nativeResolve(e)}reject(e){this.state="rejected",this.promise.catch((()=>{})),this.nativeReject(e)}}function Je(e){e.readyPromise=new Qe,requestAnimationFrame((()=>{var t;null!==((null==(t=e.timeline)?void 0:t.currentTime)??null)&&(gt(e),"play"!==e.pendingTask||null===e.startTime&&null===e.holdTime?"pause"===e.pendingTask&&tt(e):et(e))}))}function Xe(){return new DOMException("The user aborted a request","AbortError")}function Ye(e,t){if(null===t)return t;if("number"!=typeof t)throw new DOMException(`Unexpected value: ${t}.  Cannot convert to CssNumberish`,"InvalidStateError");const n=e.rangeDuration??100,i=st(e),r=i?n*t/i:0;return CSS.percent(r)}function Ze(e,t){if(e.timeline){if(null===t)return t;if("percent"===t.unit){const n=e.rangeDuration??100,i=st(e);return t.value*i/n}throw new DOMException("CSSNumericValue must be a percentage for progress based animations.","NotSupportedError")}{if(null==t||"number"==typeof t)return t;const e=t.to("ms");if(e)return e.value;throw new DOMException("CSSNumericValue must be either a number or a time value for time based animations.","InvalidStateError")}}function et(e){const t=Ze(e,e.timeline.currentTime);if(null!=e.holdTime)rt(e),0==e.animation.playbackRate?e.startTime=t:(e.startTime=t-e.holdTime/e.animation.playbackRate,e.holdTime=null);else if(null!==e.startTime&&null!==e.pendingPlaybackRate){const n=(t-e.startTime)*e.animation.playbackRate;rt(e);const i=e.animation.playbackRate;0==i?(e.holdTime=null,e.startTime=t):e.startTime=t-n/i}e.readyPromise&&"pending"==e.readyPromise.state&&e.readyPromise.resolve(e.proxy),at(e,!1,!1),lt(e),e.pendingTask=null}function tt(e){const t=Ze(e,e.timeline.currentTime);null!=e.startTime&&null==e.holdTime&&(e.holdTime=(t-e.startTime)*e.animation.playbackRate),rt(e),e.startTime=null,e.readyPromise.resolve(e.proxy),at(e,!1,!1),lt(e),e.pendingTask=null}function nt(e){if(!e.finishedPromise||"pending"!=e.finishedPromise.state)return;if("finished"!=e.proxy.playState)return;e.finishedPromise.resolve(e.proxy),e.animation.pause();const t=new CustomEvent("finish",{detail:{currentTime:e.proxy.currentTime,timelineTime:e.proxy.timeline.currentTime}});Object.defineProperty(t,"currentTime",{get:function(){return this.detail.currentTime}}),Object.defineProperty(t,"timelineTime",{get:function(){return this.detail.timelineTime}}),requestAnimationFrame((()=>{queueMicrotask((()=>{e.animation.dispatchEvent(t)}))}))}function it(e){return null!==e.pendingPlaybackRate?e.pendingPlaybackRate:e.animation.playbackRate}function rt(e){null!==e.pendingPlaybackRate&&(e.animation.playbackRate=e.pendingPlaybackRate,e.pendingPlaybackRate=null)}function ot(e){if(!e.timeline)return null;const t=Ze(e,e.timeline.currentTime);if(null===t)return null;if(null===e.startTime)return null;let n=(t-e.startTime)*e.animation.playbackRate;return-0==n&&(n=0),n}function at(e,t,n){if(!e.timeline)return;let i=t?Ze(e,e.proxy.currentTime):ot(e);if(i&&null!=e.startTime&&!e.proxy.pending){const n=it(e),r=st(e);let o=e.previousCurrentTime;n>0&&i>=r&&null!=e.previousCurrentTime?((null===o||o<r)&&(o=r),e.holdTime=t?i:o):n<0&&i<=0?((null==o||o>0)&&(o=0),e.holdTime=t?i:o):0!=n&&(t&&null!==e.holdTime&&(e.startTime=function(e,t){if(!e.timeline)return null;const n=Ze(e,e.timeline.currentTime);return null==n?null:n-t/e.animation.playbackRate}(e,e.holdTime)),e.holdTime=null)}lt(e),e.previousCurrentTime=Ze(e,e.proxy.currentTime);"finished"==e.proxy.playState?(e.finishedPromise||(e.finishedPromise=new Qe),"pending"==e.finishedPromise.state&&(n?nt(e):Promise.resolve().then((()=>{nt(e)})))):(e.finishedPromise&&"resolved"==e.finishedPromise.state&&(e.finishedPromise=new Qe),"paused"!=e.animation.playState&&e.animation.pause())}function st(e){const t=function(e){const t=e.proxy.effect.getTiming();return e.normalizedTiming||t}(e),n=t.delay+t.endDelay+t.iterations*t.duration;return Math.max(0,n)}function lt(e){if(e.timeline)if(null!==e.startTime){const t=e.timeline.currentTime;if(null==t)return;ut(e,(Ze(e,t)-e.startTime)*e.animation.playbackRate)}else null!==e.holdTime&&ut(e,e.holdTime)}function ut(e,t){const n=e.timeline,i=e.animation.playbackRate,r=n.currentTime&&n.currentTime.value==(i<0?0:100)?i<0?.001:-.001:0;e.animation.currentTime=t+r}function ct(e,t){if(!e.timeline)return;const n="paused"==e.proxy.playState&&e.proxy.pending;let i=!1,r=Ze(e,e.proxy.currentTime);0==it(e)&&null==r&&(e.holdTime=0),null==r&&(e.autoAlignStartTime=!0),("finished"===e.proxy.playState||n)&&(e.holdTime=null,e.startTime=null,e.autoAlignStartTime=!0),e.holdTime&&(e.startTime=null),e.pendingTask&&(e.pendingTask=null,i=!0),(null!==e.holdTime||e.autoAlignStartTime||n||null!==e.pendingPlaybackRate)&&(e.readyPromise&&!i&&(e.readyPromise=null),lt(e),e.readyPromise||Je(e),e.pendingTask="play",Ie(e.timeline,e.animation,ft.bind(e.proxy)),at(e,!1,!1))}function ft(e){const t=ht.get(this);if(!t)return;if(null==e)return void("paused"!==t.proxy.playState&&"idle"!=t.animation.playState&&t.animation.cancel());gt(t),t.pendingTask&&requestAnimationFrame((()=>{"play"!==t.pendingTask||null===t.startTime&&null===t.holdTime?"pause"===t.pendingTask&&tt(t):et(t)}));const n=this.playState;if("running"==n||"finished"==n){const n=Ze(t,e);ut(t,(n-Ze(t,this.startTime))*this.playbackRate),at(t,!1,!1)}}function mt(e){e.specifiedTiming=null}function pt(e){if(!e.animationRange)return 0;const t="normal"===e.animationRange.start?function(e){if(e instanceof ViewTimeline)return{rangeName:"cover",offset:CSS.percent(0)};if(e instanceof ScrollTimeline)return{rangeName:"none",offset:CSS.percent(0)};vt()}(e.timeline):e.animationRange.start;return We(e.timeline,t)}function dt(e){if(!e.animationRange)return 0;const t="normal"===e.animationRange.end?function(e){if(e instanceof ViewTimeline)return{rangeName:"cover",offset:CSS.percent(100)};if(e instanceof ScrollTimeline)return{rangeName:"none",offset:CSS.percent(100)};vt()}(e.timeline):e.animationRange.end;return 1-We(e.timeline,t)}let ht=new WeakMap;window.addEventListener("pagehide",(e=>{ht=new WeakMap}),!1);let St=new WeakMap;function gt(e){if(!e.autoAlignStartTime)return;if(!e.timeline||!e.timeline.currentTime)return;if("idle"===e.proxy.playState||"paused"===e.proxy.playState&&null!==e.holdTime)return;const t=e.rangeDuration;let n,i;try{n=CSS.percent(100*pt(e))}catch(o){n=CSS.percent(0),e.animationRange.start="normal",console.warn("Exception when calculating start offset",o)}try{i=CSS.percent(100*(1-dt(e)))}catch(o){i=CSS.percent(100),e.animationRange.end="normal",console.warn("Exception when calculating end offset",o)}e.rangeDuration=i.value-n.value;const r=it(e);e.startTime=Ze(e,r>=0?n:i),e.holdTime=null,e.rangeDuration!==t&&mt(e)}function vt(e){throw new Error("Unsupported timeline class")}function yt(e){const t=e.type(),n=Object.entries(t).filter((([e])=>"percentHint"!==e));if(1!==n.length)throw new TypeError(`Not a valid <length-percentage> '${null==e?void 0:e.toString()}'`);const[i,r]=n[0];if(!["length","percent"].includes(i)||1!==r)throw new TypeError(`Not a valid <length-percentage> '${null==e?void 0:e.toString()}'`)}function wt(e,t){const n=e.shift();if("normal"===n)return"normal";if(be.includes(n)){const i=n;let r="start"===t?CSS.percent(0):CSS.percent(100);if(void 0!==e[0]){const t=e.shift();r=CSSNumericValue.parse(t),yt(r)}return{rangeName:i,offset:r}}{const e=CSSNumericValue.parse(n);return yt(e),{rangeName:"none",offset:e}}}function Tt(e){var t;if(!e)return{start:"normal",end:"normal"};try{const n={},i=B(e);if(n.start=wt(i,"start"),i.length>0)n.end=wt(i,"end");else{const e=null==(t=n.start)?void 0:t.rangeName;n.end=e&&"none"!==e?{rangeName:n.start.rangeName,offset:CSS.percent(100)}:"normal"}if(0===i.length)return n;console.warn(`Could not parse range "${e}"`)}catch(n){console.warn(`Could not parse range "${e}"`)}return{start:"normal",end:"normal"}}function Ct(e,t){if(!e)return"normal";if(e instanceof Object)return{rangeName:e.rangeName,offset:e.offset};{const n=B(e),i=wt(n,t);if(0===n.length)return i;throw new TypeError("Invalid range")}}class bt{constructor(e,t,n={}){const i=t instanceof ScrollTimeline,r=e instanceof Ke?e:new Ke(e,i?void 0:t);St.set(r,this),ht.set(this,{animation:r,timeline:i?t:void 0,playState:i?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,rangeDuration:null,previousCurrentTime:null,autoAlignStartTime:!1,pendingPlaybackRate:null,pendingTask:null,specifiedTiming:null,normalizedTiming:null,effect:null,animationRange:i?Tt(n["animation-range"]):null,proxy:this})}get effect(){const e=ht.get(this);return e.timeline?(e.effect||(e.effect=function(e){const t=e.animation.effect,n=t.updateTiming,i={apply:function(n){t.getTiming();const i=n.apply(t);if(e.timeline){const t=e.duration??100;i.localTime=Ye(e,i.localTime),i.endTime=Ye(e,i.endTime),i.activeDuration=Ye(e,i.activeDuration);const n=st(e),r=i.iterations?(n-i.delay-i.endDelay)/i.iterations:0;i.duration=n?CSS.percent(t*r/n):CSS.percent(0),void 0===e.timeline.currentTime&&(i.localTime=null)}return i}},r={apply:function(i,r){if(e.specifiedTiming)return e.specifiedTiming;e.specifiedTiming=i.apply(t);let o,a=Object.assign({},e.specifiedTiming);if(a.duration===1/0)throw TypeError("Effect duration cannot be Infinity when used with Scroll Timelines");return(null===a.duration||"auto"===a.duration||e.autoDurationEffect)&&e.timeline&&(e.autoDurationEffect=!0,a.delay=0,a.endDelay=0,o=a.iterations?1e5:0,a.duration=a.iterations?(o-a.delay-a.endDelay)/a.iterations:0,a.duration<0&&(a.duration=0,a.endDelay=o-a.delay),n.apply(t,[a])),e.normalizedTiming=a,e.specifiedTiming}},o={apply:function(n,i,r){if(r&&r.length){if(e.timeline&&r[0]){const t=r[0],n=t.duration;if(n===1/0)throw TypeError("Effect duration cannot be Infinity when used with Scroll Timelines");if(t.iterations===1/0)throw TypeError("Effect iterations cannot be Infinity when used with Scroll Timelines");void 0!==n&&"auto"!==n&&(e.autoDurationEffect=null)}e.specifiedTiming&&n.apply(t,[e.specifiedTiming]),n.apply(t,r),mt(e)}}},a=new Proxy(t,{get:function(e,n){const i=e[n];return"function"==typeof i?i.bind(t):i},set:function(e,t,n){return e[t]=n,!0}});return a.getComputedTiming=new Proxy(t.getComputedTiming,i),a.getTiming=new Proxy(t.getTiming,r),a.updateTiming=new Proxy(t.updateTiming,o),a}(e)),e.effect):e.animation.effect}set effect(e){const t=ht.get(this);t.animation.effect=e,t.effect=null,t.autoDurationEffect=null}get timeline(){const e=ht.get(this);return e.timeline||e.animation.timeline}set timeline(e){const t=ht.get(this),n=this.timeline;if(n==e)return;const i=this.playState,r=this.currentTime;let o,a=st(t);o=null===r?null:0===a?0:Ze(t,r)/a;const s=n instanceof ScrollTimeline,l=e instanceof ScrollTimeline,u=this.pending;if(s&&Ne(t.timeline,t.animation),l)return t.timeline=e,rt(t),t.autoAlignStartTime=!0,t.startTime=null,t.holdTime=null,"running"!==i&&"finished"!==i||(t.readyPromise&&"resolved"!==t.readyPromise.state||Je(t),t.pendingTask="play",Ie(t.timeline,t.animation,ft.bind(this))),"paused"===i&&null!==o&&(t.holdTime=o*a),u&&(t.readyPromise&&"resolved"!=t.readyPromise.state||Je(t),t.pendingTask="paused"==i?"pause":"play"),null!==t.startTime&&(t.holdTime=null),void at(t,!1,!1);if(t.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(Ne(t.timeline,t.animation),t.timeline=null,s)switch(null!==r&&(t.animation.currentTime=o*st(t)),i){case"paused":t.animation.pause();break;case"running":case"finished":t.animation.play()}}get startTime(){const e=ht.get(this);return e.timeline?Ye(e,e.startTime):e.animation.startTime}set startTime(e){const t=ht.get(this);if(e=Ze(t,e),!t.timeline)return void(t.animation.startTime=e);t.autoAlignStartTime=!1;null==Ze(t,t.timeline.currentTime)&&null!=t.startTime&&(t.holdTime=null,lt(t));const n=Ze(t,this.currentTime);rt(t),t.startTime=e,null!==t.startTime&&0!=t.animation.playbackRate?t.holdTime=null:t.holdTime=n,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),at(t,!0,!1),lt(t)}get currentTime(){const e=ht.get(this);return e.timeline?null!=e.holdTime?Ye(e,e.holdTime):Ye(e,ot(e)):e.animation.currentTime}set currentTime(e){const t=ht.get(this);t.timeline?(!function(e,t){if(null==t&&null!==e.currentTime)throw new TypeError;t=Ze(e,t),e.autoAlignStartTime=!1,null!==e.holdTime||null===e.startTime||"inactive"===e.timeline.phase||0===e.animation.playbackRate?e.holdTime=t:e.startTime=Ze(e,e.timeline.currentTime)-t/e.animation.playbackRate,"inactive"===e.timeline.phase&&(e.startTime=null),e.previousCurrentTime=null}(t,e),"pause"==t.pendingTask&&(t.holdTime=Ze(t,e),rt(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),at(t,!0,!1)):t.animation.currentTime=e}get playbackRate(){return ht.get(this).animation.playbackRate}set playbackRate(e){const t=ht.get(this);if(!t.timeline)return void(t.animation.playbackRate=e);t.pendingPlaybackRate=null;const n=this.currentTime;t.animation.playbackRate=e,null!==n&&(this.currentTime=n)}get playState(){const e=ht.get(this);if(!e.timeline)return e.animation.playState;const t=Ze(e,this.currentTime);if(null===t&&null===e.startTime&&null==e.pendingTask)return"idle";if("pause"==e.pendingTask||null===e.startTime&&"play"!=e.pendingTask)return"paused";if(null!=t){if(e.animation.playbackRate>0&&t>=st(e))return"finished";if(e.animation.playbackRate<0&&t<=0)return"finished"}return"running"}get rangeStart(){var e;return(null==(e=ht.get(this).animationRange)?void 0:e.start)??"normal"}set rangeStart(e){const t=ht.get(this);if(!t.timeline)return t.animation.rangeStart=e;if(t.timeline instanceof ScrollTimeline){t.animationRange.start=Ct(e,"start"),gt(t),lt(t)}}get rangeEnd(){var e;return(null==(e=ht.get(this).animationRange)?void 0:e.end)??"normal"}set rangeEnd(e){const t=ht.get(this);if(!t.timeline)return t.animation.rangeEnd=e;if(t.timeline instanceof ScrollTimeline){t.animationRange.end=Ct(e,"end"),gt(t),lt(t)}}get replaceState(){return ht.get(this).animation.pending}get pending(){const e=ht.get(this);return e.timeline?!!e.readyPromise&&"pending"==e.readyPromise.state:e.animation.pending}finish(){const e=ht.get(this);if(!e.timeline)return void e.animation.finish();const t=it(e),n=st(e);if(0==t)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&n==1/0)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");rt(e);const i=t<0?0:n;this.currentTime=Ye(e,i);const r=Ze(e,e.timeline.currentTime);null===e.startTime&&null!==r&&(e.startTime=r-i/e.animation.playbackRate),"pause"==e.pendingTask&&null!==e.startTime&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),"play"==e.pendingTask&&null!==e.startTime&&(e.pendingTask=null,e.readyPromise.resolve(this)),at(e,!0,!0)}play(){const e=ht.get(this);e.timeline?ct(e):e.animation.play()}pause(){const e=ht.get(this);e.timeline?"paused"!=this.playState&&(null===e.animation.currentTime&&(e.autoAlignStartTime=!0),"play"==e.pendingTask?e.pendingTask=null:e.readyPromise=null,e.readyPromise||Je(e),e.pendingTask="pause",Ie(e.timeline,e.animation,ft.bind(e.proxy))):e.animation.pause()}reverse(){const e=ht.get(this),t=it(e),n=Ze(e,this.currentTime),i=st(e)==1/0,r=0!=t&&(t<0||n>0||!i);if(!e.timeline||!r)return r&&(e.pendingPlaybackRate=-it(e)),void e.animation.reverse();if("inactive"==e.timeline.phase)throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),ct(e)}updatePlaybackRate(e){const t=ht.get(this);if(t.pendingPlaybackRate=e,!t.timeline)return void t.animation.updatePlaybackRate(e);const n=this.playState;if(!t.readyPromise||"pending"!=t.readyPromise.state)switch(n){case"idle":case"paused":rt(t);break;case"finished":const n=Ze(t,t.timeline.currentTime),i=null!==n?(n-t.startTime)*t.animation.playbackRate:null;t.startTime=0==e?n:null!=n&&null!=i?(n-i)/e:null,rt(t),at(t,!1,!1),lt(t);break;default:ct(t)}}persist(){ht.get(this).animation.persist()}get id(){return ht.get(this).animation.id}set id(e){ht.get(this).animation.id=e}cancel(){const e=ht.get(this);e.timeline?("idle"!=this.playState&&(!function(e){e.pendingTask&&(e.pendingTask=null,rt(e),e.readyPromise.reject(Xe()),Je(e),e.readyPromise.resolve(e.proxy))}(e),e.finishedPromise&&"pending"==e.finishedPromise.state&&e.finishedPromise.reject(Xe()),e.finishedPromise=new Qe,e.animation.cancel()),e.startTime=null,e.holdTime=null,Ne(e.timeline,e.animation)):e.animation.cancel()}get onfinish(){return ht.get(this).animation.onfinish}set onfinish(e){ht.get(this).animation.onfinish=e}get oncancel(){return ht.get(this).animation.oncancel}set oncancel(e){ht.get(this).animation.oncancel=e}get onremove(){return ht.get(this).animation.onremove}set onremove(e){ht.get(this).animation.onremove=e}get finished(){const e=ht.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new Qe),e.finishedPromise.promise):e.animation.finished}get ready(){const e=ht.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new Qe,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}addEventListener(e,t,n){ht.get(this).animation.addEventListener(e,t,n)}removeEventListener(e,t,n){ht.get(this).animation.removeEventListener(e,t,n)}dispatchEvent(e){ht.get(this).animation.dispatchEvent(e)}}function xt(e,t){const n=t.timeline;n instanceof ScrollTimeline&&delete t.timeline;const i=Ge.apply(this,[e,t]),r=new bt(i,n);if(n instanceof ScrollTimeline){i.pause();ht.get(r).animationRange={start:Ct(t.rangeStart,"start"),end:Ct(t.rangeEnd,"end")},r.play()}return r}function kt(e){for(let t=0;t<e.length;++t){let n=St.get(e[t]);n&&(e[t]=n)}return e}function Pt(e){return kt(Be.apply(this,[e]))}function Mt(e){return kt($e.apply(this,[e]))}!function(){if(void 0!==window.ViewTimeline)return!0;if(!Reflect.defineProperty(window,"ScrollTimeline",{value:ScrollTimeline}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(window,"ViewTimeline",{value:qe}))throw Error("Error installing ViewTimeline polyfill: could not attach ViewTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:xt}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:bt}))throw Error("Error installing Animation constructor.");if(!Reflect.defineProperty(Element.prototype,"getAnimations",{value:Pt}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's getAnimations to DOM Element");if(!Reflect.defineProperty(document,"getAnimations",{value:Mt}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's getAnimations to document")}()}();
//# sourceMappingURL=scroll-timeline-lite.js.map
